<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tac Board â€” Soccer</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- â”€â”€ Join screen â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div id="join-screen">
    <div class="join-card">
      <div class="join-logo">âš½ Tac Board</div>
      <h2>Enter your name to join</h2>
      <input id="username-input" type="text" placeholder="Your nameâ€¦" maxlength="20" autofocus />
      <button id="join-btn">Join Board</button>
      <p class="join-hint">Share the URL with teammates to collaborate in real-time.</p>
    </div>
  </div>

  <!-- â”€â”€ Main app â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div id="app" class="hidden">

    <!-- Sidebar toolbar -->
    <aside id="toolbar">
      <div class="tool-group tools-grid">
        <button class="tool-btn active" id="tool-draw"    title="Draw (D)">âœï¸</button>
        <button class="tool-btn"        id="tool-arrow"   title="Arrow (A)">â¡ï¸</button>
        <button class="tool-btn"        id="tool-erase"   title="Eraser (E)">ğŸ§¹</button>
        <button class="tool-btn"        id="tool-select"  title="Select / Move (S)">ğŸ–ï¸</button>
        <button class="tool-btn"        id="tool-undo"    title="Undo your last action (Ctrl+Z)">â†©ï¸</button>
        <label class="own-erase-label" title="Dashed arrows">
          <input type="checkbox" id="arrow-dashed-check" />
          <span>Dashed arrows</span>
        </label>
      </div>

      <div class="tool-group color-section">
        <label class="tool-label">Color</label>
        <div class="color-grid">
          <input type="color" id="color-picker" value="#ffffff" title="Pen color" />
          <div id="color-presets" class="color-presets">
            <button class="color-preset" data-color="#e74c3c" style="background:#e74c3c" title="Red"></button>
            <button class="color-preset" data-color="#3498db" style="background:#3498db" title="Blue"></button>
            <button class="color-preset" data-color="#f39c12" style="background:#f39c12" title="Yellow"></button>
          </div>
        </div>
        <div id="recent-colors" class="color-presets"></div>
      </div>

      <div class="tool-group size-section">
        <label class="tool-label">Size <span id="size-val" class="size-value">3</span></label>
        <input type="range" id="size-picker" min="1" max="20" value="3" title="Pen size" />
      </div>

      <div class="tool-divider"></div>

      <!-- Token palette -->
      <div class="tool-group">
        <div class="collapsible-header" data-section="tokens">
          <span class="arrow">â–¼</span>
          <label class="tool-label">Add Token</label>
        </div>
        <div id="tokens-content" class="collapsible-content">
          <div id="token-palette">
            <button class="token-swatch token-ball-btn" data-color="#fff" data-shape="ball" title="Place soccer ball" style="background:#3a7d2c;font-size:1.1rem;">âš½</button>
            <button class="token-swatch" data-color="#e74c3c" data-label="1"  style="background:#e74c3c">1</button>
            <button class="token-swatch" data-color="#3498db" data-label="1"  style="background:#3498db">1</button>
            <button class="token-swatch" data-color="#2ecc71" data-label="1"  style="background:#2ecc71">1</button>
            <button class="token-swatch" data-color="#f39c12" data-label="1"  style="background:#f39c12">1</button>
            <button class="token-swatch" data-color="#9b59b6" data-label="1"  style="background:#9b59b6">1</button>
            <button class="token-swatch" data-color="#1abc9c" data-label="1"  style="background:#1abc9c">1</button>
            <button class="token-swatch" data-color="#ffffff" data-label="1"  style="background:#fff;color:#333;">1</button>
            <button class="token-swatch" data-color="#222222" data-label="1"  style="background:#222;color:#fff;">1</button>
          </div>
        </div>
      </div>

      <div class="tool-divider"></div>

      <!-- Recordings button -->
      <div class="tool-group">
        <button id="open-recordings-btn" class="action-btn" title="View and manage recordings">âº Recordings</button>
      </div>

      <div class="tool-divider"></div>

      <!-- Board Presets button -->
      <div class="tool-group">
        <button id="open-presets-btn" class="action-btn" title="View and manage board presets">ğŸ’¾ Presets</button>
      </div>

      <div class="tool-divider"></div>

      <div class="tool-group">
        <label class="own-erase-label" title="When checked, eraser only removes your own lines">
          <input type="checkbox" id="own-erase-check" />
          <span>Own lines<br>only</span>
        </label>
        <button id="clear-drawings-btn" class="action-btn" title="Clear drawings">ğŸ—‘ï¸ Clear Lines</button>
        <button id="clear-board-btn"    class="action-btn danger" title="Clear everything">ğŸ’¥ Clear All</button>
        <button id="screenshot-btn"     class="action-btn" title="Download board as PNG">ğŸ“¸ Screenshot</button>
        <button id="record-btn"         class="action-btn" title="Record actions on the board for playback">âº Record</button>
        <button id="replay-btn"          class="action-btn" disabled title="Replay the selected recording on the board for everyone">â–¶ Replay</button>
      </div>
    </aside>

    <!-- Board area -->
    <main id="board-wrap">

      <!-- Replay overlay bar -->
      <div id="replay-bar" class="hidden">
        <span id="replay-label">â–¶ Replay</span>
        <div id="replay-progress-wrap"><div id="replay-progress"></div></div>
        <span id="replay-time"></span>
        <button id="replay-stop-btn">â¹ Stop</button>
      </div>

      <!-- Canvas stack -->
      <div id="canvas-stack">
        <canvas id="pitch-canvas"></canvas>
        <canvas id="strokes-canvas"></canvas>
        <canvas id="live-canvas"></canvas>
        <div id="token-layer"></div>
        <div id="cursor-layer"></div>
      </div>
    </main>

    <!-- Right panel â€” users -->
    <aside id="user-panel">
      <h3>ğŸŸ¢ Online</h3>
      <ul id="user-list"></ul>
    </aside>

  </div>

  <!-- Toast notifications -->
  <div id="toast-container"></div>

  <!-- Recordings Modal -->
  <div id="recordings-modal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2>âº Recordings</h2>
        <button class="modal-close" id="close-recordings-modal">âœ•</button>
      </div>
      <div class="modal-body">
        <ul id="recordings-list" class="recordings-list">
          <li class="no-recordings">No recordings yet</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Presets Modal -->
  <div id="presets-modal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2>ğŸ’¾ Board Presets</h2>
        <button class="modal-close" id="close-presets-modal">âœ•</button>
      </div>
      <div class="modal-body">
        <button id="save-preset-btn" class="action-btn save-preset-modal-btn" title="Save current board state">ğŸ’¾ Save New Preset</button>
        <ul id="presets-list" class="presets-list">
          <li class="no-presets">No presets saved</li>
        </ul>
      </div>
    </div>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="app.js"></script>
</body>
</html>
